# ---------- 算法与数据结构

# 面试题

## 在有限的内存下，长度为一亿的数组，选其中最大的1000个数字(2) #携程

[10亿数据找到前100大的数（Top K问题） - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/441597621)

## 栈和队列，应用场景 #携程

# 树

## 红黑树

> [【数据结构】史上最好理解的红黑树讲解，让你彻底搞懂红黑树-CSDN博客](https://blog.csdn.net/cy973071263/article/details/122543826)

### 介绍

红黑树（Red Black Tree）是一种自平衡二叉查找树，由于其自平衡的特性，保证了最坏情形下**在 `O(logn)` 时间复杂度内完成查找、增加、删除等操作**，性能表现稳定

> 在 JDK 中，`TreeMap`、`TreeSet` 以及 JDK1.8 的 `HashMap` 底层都用到了红黑树

为什么需要红黑树？

- 红黑树的诞生就是为了解决 BST 的缺陷，因为二叉查找树在某些情况下会退化成一个线性结构
- 红黑树是一种接近平衡的二叉树，没有类似于 AVL 的平衡因子来维持绝对平衡，而是通过 5 条性质保证**最长路径不超过最短路径的二倍**

### 5 条特性

- 每个节点非红即黑。**黑色决定平衡**，红色不决定平衡。
  - 这对应了 2-3 树中一个节点内可以存放 1~2 个节点
- **黑色**根节点
- 每个叶节点都是黑色空节点（NIL 节点）
  - 这里指的是红黑树都会有一个空的叶子节点，是红黑树自己的规则
- 红色节点的子节点必须是黑色
  - 通常这条规则也叫**不会有连续的红色节点**。一个节点最多临时会有 3 个节点，中间是黑色节点，左右是红色节点
- 从根节点到叶节点或空子节点的每条路径，必须包含相同数目的黑色节点（即**相同的黑色高度**）。
  - 每一层都只是有一个节点贡献了树高决定平衡性，也就是对应红黑树中的黑色节点。

正是这些特点才保证了红黑树的平衡，让红黑树的高度不会超过 `2log(n+1)`。

### 等价变换

红黑树 和 4 阶 B 树（2-3-4 树）具有等价性

### AVL 树 vs 红黑树

AVL 树：

- *平衡标准比较严格*：每个左右子树的高度差不超过 1
- *最大高度*：`1.44 ∗ log(2n) + 2 − 1.328`（100W 个节点，AVL 树最大树高 28）
- 搜索、添加、删除都是 `O(logn)` 复杂度，其中添加仅需 `O(1)` 次旋转调整、删除最多需要 O(logn) 次旋转调整

红黑树：

- *平衡标准比较宽松*：没有一条路径会大于其他路径的 2 倍
- *最大高度*：`2 ∗ log2(n + 1)`（ 100W 个节点，红黑树最大树高 40）
- 搜索、添加、删除都是 `O(logn)` 复杂度，其中**添加、删除都仅需 `O(1)` 次旋转调整**

### 自旋操作

1）左倾/右倾染色：

- 把父节点染黑、叔叔节点染黑，爷爷节点染红
- 如果爷爷节点是根节点，再把根节点染黑

![650](assets/Pasted%20image%2020240323113427.png)

![650](assets/Pasted%20image%2020240323113758.png)

2）左旋调整

一次左旋

![650](assets/Pasted%20image%2020240323114216.png)

右旋+左旋

![650](assets/Pasted%20image%2020240323114229.png)

3）右旋调整

一次右旋

![650](assets/Pasted%20image%2020240323114411.png)

左旋+右旋

![650](assets/Pasted%20image%2020240323114420.png)


# ---------- OS

## 多线程的同步互斥的方法？

答了信号量，问具体怎么实现，答 pv 操作，给了具体的场景，问变量如何初始化(等同于口述代码)

## 同步与互斥，互斥和同步在时间上有要求吗？

> 貌似是操作系统

#PDD_服务端研发

进程之间相互独立如何理解 #携程

互斥和同步在时间上有要求吗（我回答前者没有，后者有）

操作系统内核对象实现同步与互斥（复盘搜了一下：互斥锁、信号量、事件对象、条件变量、命名管道）

死锁的条件（互斥条件、请求保持条件、不可抢占条件、循环等待条件）

系统调用，中断，异常 #携程

linux中用的是什么映射方式  #携程

虚拟内存、实现方式(2)  #携程

页表作用 #携程

段页制cpu缓存机制  #携程

鼠标快速移动为什么不卡 #携程

用户级线程和内核级线程的区别 #携程

